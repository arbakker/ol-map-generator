{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?4a62","webpack:///./src/plugins/vuetify.js","webpack:///./src/App.vue?90b3","webpack:///./src/components/MapControl.vue?15ab","webpack:///./src/components/LayerListItem.vue?e79f","webpack:///./src/components/ServiceLayerListItem.vue?8438","webpack:///src/components/ServiceLayerListItem.vue","webpack:///./src/components/ServiceLayerListItem.vue?1b9e","webpack:///./src/components/ServiceLayerListItem.vue?e7fc","webpack:///./src/components/FeatureLayerListItem.vue?55a7","webpack:///src/components/FeatureLayerListItem.vue","webpack:///./src/components/FeatureLayerListItem.vue?dd59","webpack:///./src/components/FeatureLayerListItem.vue?b6db","webpack:///src/components/LayerListItem.vue","webpack:///./src/components/LayerListItem.vue?0eb6","webpack:///./src/components/LayerListItem.vue?ed59","webpack:///./src/components/MapMapControl.vue?498e","webpack:///./src/lib/LocatieServerControl.js","webpack:///./src/lib/MapGenerator.js","webpack:///./src/assets/templates/index.html.template","webpack:///./src/assets/templates/script.js.template","webpack:///./src/lib/MapGenerator.js?b460","webpack:///./src/lib/LocatieServerControl.js?ac8e","webpack:///src/components/MapMapControl.vue","webpack:///./src/components/MapMapControl.vue?d3ee","webpack:///./src/components/MapMapControl.vue?d70c","webpack:///src/components/MapControl.vue","webpack:///./src/components/MapControl.vue?1433","webpack:///./src/components/MapControl.vue?4e3a","webpack:///src/App.vue","webpack:///./src/App.vue?60d0","webpack:///./src/App.vue?315a","webpack:///./src/main.js","webpack:///./src/components/ServiceLayerListItem.vue?d9a2","webpack:///./src/components/MapControl.vue?e1e7","webpack:///./src/components/LayerListItem.vue?22e7","webpack:///./src/components/MapMapControl.vue?86be","webpack:///./src/components/FeatureLayerListItem.vue?8f38"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","Vue","use","Vuetify","opts","_vm","this","_h","$createElement","_c","_self","attrs","config","staticRenderFns","staticClass","ref","_v","model","callback","$$v","title","expression","staticStyle","constrainBoundsEnabled","lsControlEnabled","on","$event","updateMap","generateHTML","addingServiceLayer","addingFeatureLayer","_e","orderLayersEnabled","scopedSlots","_u","fn","proxy","newLayer","newServiceLayer","newFeatureLayer","addNewLayer","layers","_l","item","id","onDeleteLayer","_s","layer","layerType","deleteLayer","autoUpdateTitle","serviceType","inputMode","directives","rawName","search","checkSelected","query","serviceUrlRules","displayServiceUrl","selectedLayer","Style","selectedStyle","opacity","grayscale","components","props","type","Boolean","default","serviceTitle","displayItems","styles","computed","serviceUrl","urlString","layerName","newVal","Name","Identifier","updateTitle","styleName","mounted","retrieveCapabilities","init","beforeMount","methods","filter","records","shouldSort","threshold","location","distance","minMatchCharLength","ignoreLocation","keys","fuse","searchResult","map","setTimeout","serviceUrlValid","retrieveCapabilitiesWMTS","retrieveCapabilitiesWMS","fetch","parentStyles","Array","isArray","capObj","forEach","lyr","unpackLayers","getServiceType","url","URL","toUpperCase","searchParams","component","sourceType","geoJsonUrl","geoJsonString","color","labels","labelProperty","geomType","width","strokeRules","stroke","iconSize","icons","icon","set","newValue","JSON","stringify","geoJson","parse","setSourceGeomType","getIcon","then","join","split","g","b","a","colorObj","watch","features","geometry","newGeomType","ServiceLayerListItem","FeatureLayerListItem","$emit","LocatieServerControlCSS","LocatieServerControlHTML","LocatieServerControl","_style","document","createElement","_template","innerHTML","css","html","shadow","attachShadow","appendChild","content","cloneNode","getElementById","addEventListener","event","inputType","undefined","options","querySelectorAll","option","target","response","json","wktLoc","docs","geometrie_ll","format","WKT","feature","readFeature","dataProjection","featureProjection","ext","getGeometry","getExtent","dispatchEvent","CustomEvent","bubbles","composed","detail","extent","blur","startsWith","x","weergavenaam","optionsHtml","val","stopPropagation","existingLsLayer","getLayers","getArray","find","values_","layerId","removeLayer","style","polygonStyle","ftLayer","VectorLayer","declutter","source","VectorSource","zIndex","locationClearedHandler","addLayer","getView","fit","maxZoom","padding","lsControl","myControl","Control","element","addControl","locationSelectedHandler","colorString","fillColor","Stroke","fill","Fill","HTMLElement","DEFAULT_STROKE_WIDTH","DEFAULT_ICON_SCALE","DEFAULT_SCALE_FACTOR","DEFAULT_DASHES","lineDash","MapGenerator","view","center","getCenter","parseFloat","toString","y","z","parseInt","getZoom","assign","projection","getProjection","projectionExtent","size","getWidth","resolutions","matrixIds","Math","pow","promises","layersString","getFeatureData","Promise","all","values","GeoJSON","readFeatures","ftCollection","getStyleFunction","params","LAYERS","STYLES","ImageLayer","ImageWMS","ratio","TileLayer","WMTS","matrixSet","tileGrid","WMTSTileGrid","origin","getTopLeft","wrapX","setLayers","postRender","updateMapState","viewConfig","zoom","viewOptions","resolve","setView","once","mapExtent","calculateExtent","getSize","layerConfig","scale","svgIcon","replace","match","hexColor","src","escape","image","Icon","dash","getDash","Point","pointStyle","LineString","lineStyle","Polygon","symbolStyle","getStyle","placementDic","offsetX","offsetY","textAlign","overflow","textStyle","text","Text","string","_","protocol","filename","ok","Error","status","getResourceText","ftCollectionString","e","context","globalCompositeOperation","fillStyle","fillRect","canvas","height","jsTemplate","htmlTemplate","generator","download","setAttribute","display","body","click","removeChild","getPrepareGenPromises","generateCode","lsControlCode","mapGeneratorCode","jsCode","updateMapTemplate","$refs","Map","customElements","define","enableLsControl","mapGenerator","generateMap","isValidHttpUrl","rgba2hex","hex","alpha","htmlEncode","el","innerText","textContent","draggable","LayerListItem","MapMapControl","console","log","uuid","uuidValue","k","randomValue","mapMapControl","action","before","editing","MapControl","vuetify","render","h","App","$mount"],"mappings":"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","file":"js/app.9903e0a5.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","// src/plugins/vuetify.js\n\nimport Vue from 'vue'\nimport Vuetify from 'vuetify'\nimport 'vuetify/dist/vuetify.min.css'\n\nVue.use(Vuetify)\n\nconst opts = {}\n\nexport default new Vuetify(opts)\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('map-control',{attrs:{\"config\":_vm.config}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('v-main',[_c('div',{attrs:{\"id\":\"container\"}},[_c('div',{staticClass:\"row\"},[_c('map-map-control',{ref:\"mapMapControl\",attrs:{\"config\":_vm.config}})],1),_c('div',{staticClass:\"row form\"},[_c('v-form',[_c('v-card',[_c('div',{staticClass:\"text-overline mb-4\"},[_vm._v(\"MAP SETTINGS\")]),_c('v-card-text',[_c('v-text-field',{attrs:{\"label\":\"Map Title\"},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}}),_c('v-switch',{staticStyle:{\"margin-top\":\"0em\"},attrs:{\"label\":\"Constrain Map Extent\"},model:{value:(_vm.constrainBoundsEnabled),callback:function ($$v) {_vm.constrainBoundsEnabled=$$v},expression:\"constrainBoundsEnabled\"}}),_c('v-switch',{staticStyle:{\"margin-top\":\"0em\"},attrs:{\"disabled\":_vm.constrainBoundsEnabled,\"label\":\"Locatieserver Control\"},model:{value:(_vm.lsControlEnabled),callback:function ($$v) {_vm.lsControlEnabled=$$v},expression:\"lsControlEnabled\"}})],1),_c('v-card-actions',[_c('v-btn',{on:{\"click\":function($event){return _vm.updateMap()}}},[_vm._v(\"Update Map\")]),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.generateHTML()}}},[_vm._v(\"Download HTML\")])],1)],1),_c('v-card',[_c('v-list-item-content',{staticStyle:{\"padding-bottom\":\"0px\"}},[_c('div',{staticClass:\"text-overline mb-4\"},[_vm._v(\"LAYERS\")]),(!(_vm.addingServiceLayer || _vm.addingFeatureLayer))?_c('v-card-actions',[_c('v-btn',{on:{\"click\":function($event){_vm.orderLayersEnabled = !_vm.orderLayersEnabled}}},[_c('v-icon',[_vm._v(\" mdi-reorder-horizontal\")])],1),_c('v-speed-dial',{attrs:{\"direction\":\"right\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c('v-btn',{attrs:{\"color\":\"blue darken-2\",\"dark\":\"\"}},[_c('v-icon',[_vm._v(\" mdi-plus \")])],1)]},proxy:true}],null,false,2587585864)},[_c('v-btn',{attrs:{\"dark\":\"\",\"small\":\"\"},on:{\"click\":function($event){_vm.newLayer = _vm.newServiceLayer();\n                      _vm.addingServiceLayer = true;}}},[_vm._v(\" + Service Layer \")]),_c('v-btn',{attrs:{\"dark\":\"\",\"small\":\"\"},on:{\"click\":function($event){_vm.newLayer = _vm.newFeatureLayer();\n                      _vm.addingFeatureLayer = true;}}},[_vm._v(\" + Feature Layer \")])],1)],1):_vm._e(),(_vm.addingServiceLayer || _vm.addingFeatureLayer)?_c('div',{staticStyle:{\"width\":\"50vw\",\"padding\":\"0 24px 16px\"}},[(_vm.addingServiceLayer)?_c('service-layer-list-item',{attrs:{\"layer\":_vm.newLayer}}):_vm._e(),(_vm.addingFeatureLayer)?_c('feature-layer-list-item',{attrs:{\"layer\":_vm.newLayer}}):_vm._e(),_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.addNewLayer()}}},[_vm._v(\"OK\")]),_c('v-btn',{on:{\"click\":function($event){_vm.addingServiceLayer\n                        ? (_vm.addingServiceLayer = !_vm.addingServiceLayer)\n                        : (_vm.addingFeatureLayer = !_vm.addingFeatureLayer)}}},[_vm._v(\"Cancel\")])],1)],1):_vm._e(),(!(_vm.addingServiceLayer || _vm.addingFeatureLayer))?_c('v-expansion-panels',{attrs:{\"accordion\":\"\",\"disabled\":_vm.orderLayersEnabled}},[_c('draggable',{attrs:{\"disabled\":!_vm.orderLayersEnabled},model:{value:(_vm.layers),callback:function ($$v) {_vm.layers=$$v},expression:\"layers\"}},[_c('transition-group',_vm._l((_vm.layers),function(item){return _c('layer-list-item',{key:item.id,attrs:{\"layer\":item},on:{\"deleteLayer\":_vm.onDeleteLayer}})}),1)],1)],1):_vm._e()],1)],1)],1)],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-expansion-panel',[_c('v-expansion-panel-header',[_vm._v(\" \"+_vm._s(_vm.layer.title)+\" \")]),_c('v-expansion-panel-content',[(_vm.layer.layerType === 'serviceLayer')?_c('service-layer-list-item',{attrs:{\"layer\":_vm.layer}}):_vm._e(),(_vm.layer.layerType === 'featureLayer')?_c('feature-layer-list-item',{attrs:{\"layer\":_vm.layer}}):_vm._e(),_c('v-card-actions',[_c('v-btn',{attrs:{\"title\":\"Delete Layer\"},on:{\"click\":function($event){return _vm.deleteLayer()}}},[_c('v-icon',[_vm._v(\" mdi-delete \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-text-field',{attrs:{\"label\":\"Layer Title\"},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}}),_c('v-switch',{staticStyle:{\"margin-top\":\"0em\"},attrs:{\"label\":\"Auto-Update Title\"},model:{value:(_vm.autoUpdateTitle),callback:function ($$v) {_vm.autoUpdateTitle=$$v},expression:\"autoUpdateTitle\"}}),_c('v-text-field',{attrs:{\"disabled\":\"\",\"label\":\"Service Type\"},model:{value:(_vm.serviceType),callback:function ($$v) {_vm.serviceType=$$v},expression:\"serviceType\"}}),_c('v-radio-group',{model:{value:(_vm.inputMode),callback:function ($$v) {_vm.inputMode=$$v},expression:\"inputMode\"}},[_c('v-radio',{attrs:{\"label\":\"Search in PDOK Services\",\"value\":\"search\"}}),_c('v-radio',{attrs:{\"label\":\"Input Service URL\",\"value\":\"input\"}})],1),_c('v-text-field',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.inputMode === 'search'),expression:\"inputMode === 'search'\"}],attrs:{\"type\":\"text\",\"list\":\"searchResults\",\"placeholder\":'zoek in PDOK services'},on:{\"keyup\":_vm.search,\"input\":_vm.checkSelected},model:{value:(_vm.query),callback:function ($$v) {_vm.query=$$v},expression:\"query\"}}),_c('datalist',{attrs:{\"id\":\"searchResults\"}},_vm._l((_vm.displayItems),function(item){return _c('option',{key:item.id},[_vm._v(_vm._s(item.title))])}),0),_c('v-text-field',{ref:\"serviceUrl\",attrs:{\"label\":\"Service URL\",\"rules\":_vm.serviceUrlRules,\"required\":\"\"},model:{value:(_vm.displayServiceUrl),callback:function ($$v) {_vm.displayServiceUrl=$$v},expression:\"displayServiceUrl\"}}),_c('v-select',{attrs:{\"items\":_vm.layers,\"item-text\":\"Title\",\"label\":\"Layer Name\",\"return-object\":\"\"},model:{value:(_vm.selectedLayer),callback:function ($$v) {_vm.selectedLayer=$$v},expression:\"selectedLayer\"}}),(_vm.serviceType === 'WMS')?_c('v-select',{attrs:{\"items\":_vm.selectedLayer.Style,\"item-text\":\"Title\",\"return-object\":\"\",\"label\":\"Style\"},model:{value:(_vm.selectedStyle),callback:function ($$v) {_vm.selectedStyle=$$v},expression:\"selectedStyle\"}}):_vm._e(),_c('v-slider',{attrs:{\"step\":\"0.01\",\"min\":\"0\",\"max\":\"1\",\"thumb-label\":\"\",\"label\":\"Opacity\"},model:{value:(_vm.opacity),callback:function ($$v) {_vm.opacity=$$v},expression:\"opacity\"}}),_c('v-slider',{attrs:{\"step\":\"0.01\",\"min\":\"0\",\"max\":\"1\",\"thumb-label\":\"\",\"label\":\"Grayscale\"},model:{value:(_vm.grayscale),callback:function ($$v) {_vm.grayscale=$$v},expression:\"grayscale\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n      <v-text-field v-model=\"title\" label=\"Layer Title\"></v-text-field>\n       <v-switch\n              v-model=\"autoUpdateTitle\"\n              label=\"Auto-Update Title\"\n              style=\"margin-top: 0em\"\n            ></v-switch>\n      <v-text-field disabled v-model=\"serviceType\" label=\"Service Type\"></v-text-field> \n       <v-radio-group v-model=\"inputMode\">\n        <v-radio label=\"Search in PDOK Services\" value=\"search\"></v-radio>\n        <v-radio label=\"Input Service URL\" value=\"input\"></v-radio>\n      </v-radio-group>\n\n      <v-text-field\n          v-show=\"inputMode === 'search'\"\n          type=\"text\"\n          v-model=\"query\"\n          list=\"searchResults\"\n          @keyup=\"search\"\n          @input=\"checkSelected\"\n          :placeholder=\"\n            'zoek in PDOK services'\n          \"\n        />\n        <datalist id=\"searchResults\">\n            <option v-for=\"item in displayItems\" :key=\"item.id\">{{item.title}}</option>\n        </datalist>\n      <v-text-field\n v-model=\"displayServiceUrl\" label=\"Service URL\" :rules=\"serviceUrlRules\" required ref=\"serviceUrl\"></v-text-field>  \n      <v-select\n        :items=\"layers\"\n        v-model=\"selectedLayer\"\n        item-text=\"Title\"\n        label=\"Layer Name\"\n        return-object\n      ></v-select>\n       <v-select\n        v-if=\"serviceType === 'WMS'\"\n        :items=\"selectedLayer.Style\"\n        v-model=\"selectedStyle\"\n        item-text=\"Title\"\n        return-object\n        label=\"Style\"\n      ></v-select>\n      <v-slider\n        v-model=\"opacity\"\n        step=\"0.01\"\n        min=\"0\"\n        max=\"1\"\n        thumb-label\n        label=\"Opacity\"\n      ></v-slider>  \n      <v-slider\n        v-model=\"grayscale\"\n        step=\"0.01\"\n        min=\"0\"\n        max=\"1\"\n        thumb-label\n        label=\"Grayscale\"\n      ></v-slider>\n    </div>\n</template>\n\n<script>\nimport WMSCapabilities from \"ol/format/WMSCapabilities\";\nimport WMTSCapabilities from \"ol/format/WMTSCapabilities\";\nimport Fuse from \"fuse.js\";\nimport pdokServices from '../assets/pdok-wms-wmts-services-with-urls.json'\n// other imports\n\nexport default {\n  components: {},\n  name: \"ServiceLayerListItem\",\n  props: {\n    layer: Object,\n    autoUpdateTitle: {\n      type: Boolean,\n      default: true\n    },\n  },\n  data: function () {\n    return {\n      serviceTitle: \"\",\n      inputMode: \"search\",\n      displayItems: [], \n      displayServiceUrl: \"\",\n      query: \"\",\n      layers: [],\n      styles: [],\n      selectedLayer: {},\n      selectedStyle: {},\n      serviceUrlRules: [\n        (value) => {\n          const pattern = /^https?.*\\?.*service=(WMS|WMTS).*$/i;\n          return (\n            pattern.test(value) ||\n            \"Invalid Service URL, service request parameter required (allowed values: WMS, WMTS)\"\n          );\n        },\n      ],\n    };\n  },\n  computed:{\n      title: {\n        get: function () {\n            return  this.layer.title\n        },\n        set: function (newValue) {\n            this.layer.title = newValue\n        }\n      },\n      layerName: {\n        get: function () {\n            return  this.layer.layerName\n        },\n        set: function (newValue) {\n            this.layer.layerName = newValue\n        }\n      },\n      styleName: {\n        get: function () {\n            return  this.layer.styleName\n        },\n        set: function (newValue) {\n            this.layer.styleName = newValue\n        }\n      },\n      opacity: {\n        get: function () {\n            return  this.layer.opacity\n        },\n        set: function (newValue) {\n            this.layer.opacity = newValue\n        }\n      },\n      grayscale: {\n        get: function () {\n            return  this.layer.grayscale\n        },\n        set: function (newValue) {\n            this.layer.grayscale = newValue\n        }\n      },\n      serviceType: {\n        get: function () {\n            return  this.layer.serviceType\n        },\n        set: function (newValue) {\n            this.layer.serviceType = newValue\n        }\n      },\n      serviceUrlValid: { \n        get: function(){\n          const pattern = /^https?.*\\?.*service=(WMS|WMTS).*$/i;\n          return (pattern.test(this.displayServiceUrl))\n        }\n      },\n  },\n   watch: {\n    displayServiceUrl: function (newVal){\n      let url = new URL(newVal);\n      let urlString =  `${url.protocol}${url.hostname}${url.pathname}`\n      this.layer.serviceUrl = urlString\n      let serviceType = this.getServiceType()\n            this.serviceType = serviceType\n            setTimeout(() => {\n                this.retrieveCapabilities()\n            }, 1);\n    },\n    selectedLayer: function (newVal) {\n      if (this.serviceType === \"WMS\"){\n        this.layerName = newVal.Name\n      }else{\n        this.layerName = newVal.Identifier\n      }\n      if (this.autoUpdateTitle){\n        this.updateTitle()\n      }\n      \n    },\n    selectedStyle: function (newVal) {\n      this.styleName = newVal.Name\n    }\n  },\n  mounted: function () {\n    this.retrieveCapabilities()\n    this.init(pdokServices)\n  },\n  beforeMount() {\n    if (!(\"opacity\" in this.layer)) {\n      this.layer.opacity = 1;\n    }\n    if (!(\"grayscale\" in this.layer)) {\n      this.layer.grayscale = 0;\n    }\n  },\n  methods: {\n    init(result) {\n      // filter out duplicate records, ngr returns duplicated records occasionally\n      result = result.filter(\n        (v, i, a) => a.findIndex((t) => t.id === v.id) === i\n      );\n      this.records = result;\n      this.displayItems = result;\n      const options = {\n        shouldSort: true,\n        threshold: 0.3,\n        location: 0,\n        distance: 100,\n        minMatchCharLength: 3,\n        ignoreLocation: true,\n        keys: [\"title\", \"abstract\", \"keywords\", \"id\", \"serviceUrl\", \"serviceType\"],\n      };\n      this.fuse = new Fuse(this.records, options);\n      this.search();\n    },\n     searchFilter() {\n      if (this.query === \"\") {\n        return this.records;\n      }\n      const searchResult = this.fuse.search(this.query, {});\n      return searchResult.map(({ item }) => item).sort(this.compare);\n    },\n    checkSelected(){\n        let item = this.displayItems.find(element => element.title === this.query)\n        if (item!==undefined){\n          this.displayServiceUrl = item.serviceUrl\n        }\n },\n     search() {\n      setTimeout(() => {\n        this.displayItems = this.searchFilter();\n      }, 300);\n      \n    },\n    updateTitle(){\n      let layerTitle = this.selectedLayer.Title\n      this.title = `${this.serviceTitle} - ${layerTitle}` \n    },\n    retrieveCapabilities(){\n      if (!this.serviceUrlValid){\n        return\n      }\n      if (this.serviceType === \"WMTS\"){\n        this.retrieveCapabilitiesWMTS()\n      }else if (this.serviceType === \"WMS\"){\n        this.retrieveCapabilitiesWMS()\n      }\n    },\n    retrieveCapabilitiesWMS(){\n      let url = new URL(this.displayServiceUrl);\n      let urlString =  `${url.protocol}${url.hostname}${url.pathname}?request=GetCapabilities&service=WMS`;\n      fetch(urlString)\n        .then((response) => {\n          return response.text();\n        })\n        .then((text) => {\n          this.capXml = text;\n          const parser = new WMSCapabilities();\n          let parsedCap = parser.read(text);\n          let layers = [];\n          this.serviceTitle = parsedCap.Service.Title\n          layers = this.unpackLayers(parsedCap.Capability, layers);\n          // filter out duplicate layers (seems bug in gebiedsindelingen wms)\n          layers = layers.filter(\n            (v, i, a) => a.findIndex((t) => t.Name === v.Name) === i\n          );\n          // filter out duplicate styles, seems bug in cap parser\n          layers.forEach((lyr) => {\n            if (\"Style\" in lyr) {\n              lyr.Style = lyr.Style.filter(\n                (v, i, a) => a.findIndex((t) => t.Name === v.Name) === i\n              );\n            }\n          });\n          this.layers = layers;\n          this.selectedLayer = (this.layerName) ? layers.find(x=> x.Name === this.layerName)  : layers[0]        \n          let parentStyles = [];\n          parentStyles = this.parentStyles(\n            parsedCap.Capability,\n            parentStyles\n          ).flat();\n          this.layers.map((x) => {\n            if (\"Style\" in x)\n              x.Style = x.Style.filter((y) => !parentStyles.includes(y));\n          });\n          this.selectedStyle = undefined\n          if (\"Style\" in this.selectedLayer){\n            this.selectedStyle = (this.styleName) ? this.selectedLayer.Style.find(x=>x.Name === this.styleName): this.selectedLayer.Style[0]\n          }\n          if (this.autoUpdateTitle){\n              this.updateTitle()\n          }\n        });\n    },\n    parentStyles(capObj, result) {\n      if (!Array.isArray(capObj)) {\n        capObj = [capObj];\n      }\n      capObj.forEach((lyr) => {\n        if (\"Layer\" in lyr) {\n          result.push(lyr.Style);\n          this.parentStyles(lyr.Layer, result);\n        }\n      });\n      return result;\n    },\n    unpackLayers(capObj, result) {\n      if (!Array.isArray(capObj)) {\n        capObj = [capObj];\n      }\n      capObj.forEach((lyr) => {\n        if (\"Layer\" in lyr) {\n          this.unpackLayers(lyr.Layer, result);\n        } else {\n          result.push(lyr);\n        }\n      });\n      return result;\n    },\n    retrieveCapabilitiesWMTS(){\n      let url = new URL(this.displayServiceUrl);\n      let urlString = `${url.protocol}${url.hostname}${url.pathname}?request=GetCapabilities&service=WMTS`;\n       fetch(urlString)\n        .then((response) => {\n          return response.text();\n        })\n        .then((text) => {\n           this.capXml = text;\n            const parser = new WMTSCapabilities();\n            let parsedCap = parser.read(text);\n            this.serviceTitle = parsedCap.ServiceIdentification.Title\n            let layers = [];\n            layers = parsedCap.Contents.Layer\n            this.layers = layers;\n            this.selectedLayer = (this.layerName) ? layers.find(x=> x.Identifier === this.layerName) : layers[0]\n            if (this.autoUpdateTitle){\n              this.updateTitle()\n            }\n      })\n\n    },\n    getServiceType(){\n      var url = new URL(this.displayServiceUrl.toUpperCase());\n      return url.searchParams.get(\"SERVICE\");\n    }\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n\n#app {\n  margin: 40px;\n}\n.draggable-flex {\n  display: inherit;\n  flex-direction: inherit;\n}\n\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ServiceLayerListItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ServiceLayerListItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ServiceLayerListItem.vue?vue&type=template&id=2a2025da&scoped=true&\"\nimport script from \"./ServiceLayerListItem.vue?vue&type=script&lang=js&\"\nexport * from \"./ServiceLayerListItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ServiceLayerListItem.vue?vue&type=style&index=0&id=2a2025da&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a2025da\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-text-field',{attrs:{\"label\":\"Layer Title\"},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}}),_c('v-radio-group',{model:{value:(_vm.sourceType),callback:function ($$v) {_vm.sourceType=$$v},expression:\"sourceType\"}},[_c('v-radio',{attrs:{\"label\":\"GeoJSON Document\",\"value\":\"object\"}}),_c('v-radio',{attrs:{\"label\":\"GeoJSON URL\",\"value\":\"url\"}})],1),(_vm.sourceType === 'url')?_c('v-text-field',{attrs:{\"label\":\"GeoJSON URL\"},model:{value:(_vm.geoJsonUrl),callback:function ($$v) {_vm.geoJsonUrl=$$v},expression:\"geoJsonUrl\"}}):_vm._e(),(_vm.sourceType === 'object')?_c('v-textarea',{attrs:{\"label\":\"GeoJSON Document\",\"hint\":\"Hint text\"},model:{value:(_vm.geoJsonString),callback:function ($$v) {_vm.geoJsonString=$$v},expression:\"geoJsonString\"}}):_vm._e(),_c('v-slider',{attrs:{\"step\":\"0.01\",\"min\":\"0\",\"max\":\"1\",\"thumb-label\":\"\",\"label\":\"Opacity\"},model:{value:(_vm.opacity),callback:function ($$v) {_vm.opacity=$$v},expression:\"opacity\"}}),_c('v-color-picker',{attrs:{\"label\":\"Style Color\",\"dot-size\":\"20\",\"mode\":\"rgba\",\"hide-inputs\":\"\"},model:{value:(_vm.color),callback:function ($$v) {_vm.color=$$v},expression:\"color\"}}),_c('v-checkbox',{attrs:{\"label\":\"Enable Labels\"},model:{value:(_vm.labels),callback:function ($$v) {_vm.labels=$$v},expression:\"labels\"}}),_c('v-text-field',{attrs:{\"disabled\":!_vm.labels,\"label\":\"Label Property\"},model:{value:(_vm.labelProperty),callback:function ($$v) {_vm.labelProperty=$$v},expression:\"labelProperty\"}}),(_vm.geomType !== '' && _vm.geomType!=='Point')?_c('v-slider',{attrs:{\"step\":\"1\",\"min\":\"0\",\"max\":\"20\",\"thumb-label\":\"\",\"label\":\"Stroke Width\"},model:{value:(_vm.width),callback:function ($$v) {_vm.width=$$v},expression:\"width\"}}):_vm._e(),(_vm.geomType !== '' && _vm.geomType!=='Point')?_c('v-text-field',{attrs:{\"rules\":_vm.strokeRules},model:{value:(_vm.stroke),callback:function ($$v) {_vm.stroke=$$v},expression:\"stroke\"}}):_vm._e(),(_vm.geomType !== '' && _vm.geomType==='Point')?_c('v-slider',{attrs:{\"step\":\"1\",\"min\":\"1\",\"max\":\"10\",\"thumb-label\":\"\",\"label\":\"Icon Size\"},model:{value:(_vm.iconSize),callback:function ($$v) {_vm.iconSize=$$v},expression:\"iconSize\"}}):_vm._e(),(_vm.geomType !== '' && _vm.geomType==='Point')?_c('v-select',{attrs:{\"items\":_vm.icons,\"label\":\"Icon\"},model:{value:(_vm.icon),callback:function ($$v) {_vm.icon=$$v},expression:\"icon\"}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n      <v-text-field v-model=\"title\" label=\"Layer Title\"></v-text-field>\n      <v-radio-group v-model=\"sourceType\">\n        <v-radio label=\"GeoJSON Document\" value=\"object\"></v-radio>\n        <v-radio label=\"GeoJSON URL\" value=\"url\"></v-radio>\n      </v-radio-group>\n      <v-text-field\n        v-if=\"sourceType === 'url'\"\n        v-model=\"geoJsonUrl\"\n        label=\"GeoJSON URL\"\n      ></v-text-field>\n      <v-textarea\n        v-if=\"sourceType === 'object'\"\n        label=\"GeoJSON Document\"\n        hint=\"Hint text\"\n        v-model=\"geoJsonString\"\n        \n      ></v-textarea>\n      <v-slider\n        v-model=\"opacity\"\n        step=\"0.01\"\n        min=\"0\"\n        max=\"1\"\n        thumb-label\n        label=\"Opacity\"\n      ></v-slider>\n      <v-color-picker\n        v-model=\"color\"\n        label=\"Style Color\"\n        dot-size=\"20\"\n        mode=\"rgba\"\n        hide-inputs\n      ></v-color-picker>\n      <v-checkbox v-model=\"labels\" label=\"Enable Labels\"></v-checkbox>\n      <v-text-field\n        :disabled=\"!labels\"\n        v-model=\"labelProperty\"\n        label=\"Label Property\"\n      ></v-text-field>\n      <v-slider\n        v-if=\"geomType !== '' && geomType!=='Point'\"\n        v-model=\"width\"\n        step=\"1\"\n        min=\"0\"\n        max=\"20\"\n        thumb-label\n        label=\"Stroke Width\"\n      ></v-slider>\n      <v-text-field\n        v-if=\"geomType !== '' && geomType!=='Point'\"\n        v-model=\"stroke\"\n        :rules=\"strokeRules\"\n      ></v-text-field>\n      <v-slider\n        v-if=\"geomType !== '' && geomType==='Point'\"\n        v-model=\"iconSize\"\n        step=\"1\"\n        min=\"1\"\n        max=\"10\"\n        thumb-label\n        label=\"Icon Size\"\n      ></v-slider>\n      <v-select\n        v-if=\"geomType !== '' && geomType==='Point'\"\n        :items=\"icons\"\n        v-model=\"icon\"\n        label=\"Icon\"\n      ></v-select>\n    </div>\n</template>\n\n<script>\n//@blur=\"geoJsonString = $event.target.value\"\nimport availableIcons from \"../assets/icons.json\";\n\nexport default {\n  components: {},\n  name: \"FeatureLayerListItem\",\n  props: {\n    layer: Object,\n  },\n  data: function () {\n    return {\n      icons: availableIcons,\n      strokeRules: [\n        (value) => {\n          const pattern = /^^([0-9]+\\s?,?){2,}$$/;\n          return (\n            pattern.test(value) ||\n            \"Invalid stroke, comma seperated integers required\"\n          );\n        },\n      ],\n    };\n  },\n  computed: {\n    sourceType: {\n      get: function () {\n        return this.layer.sourceType;\n      },\n      set: function (newValue) {\n        this.layer.sourceType = newValue;\n      },\n    },\n    geoJsonUrl: {\n      get: function () {\n        return this.layer.geoJsonUrl;\n      },\n      set: function (newValue) {\n        this.layer.geoJsonUrl = newValue;\n      },\n    },\n    geomType: {\n      get: function () {\n        return this.layer.geomType;\n      },\n      set: function (newValue) {\n        this.layer.geomType = newValue;\n      },\n    },\n    geoJsonString: {\n      get: function () {\n        return JSON.stringify(this.geoJson)\n      },\n      set: function (newValue) {\n        this.geoJson = JSON.parse(newValue)\n        this.setSourceGeomType()\n      },\n    },\n    geoJson: {\n      get: function () {\n        return this.layer.geoJson\n      },\n      set: function (newValue) {\n        this.layer.geoJson = newValue\n      },\n    },\n    labels: {\n      get: function () {\n        return this.layer.labels;\n      },\n      set: function (newValue) {\n        this.layer.labels = newValue;\n      },\n    },\n    labelProperty: {\n      get: function () {\n        return this.layer.labelProperty;\n      },\n      set: function (newValue) {\n        this.layer.labelProperty = newValue;\n      },\n    },\n    iconSize: {\n      get: function () {\n        return this.layer.iconSize;\n      },\n      set: function (newValue) {\n        this.layer.iconSize = newValue;\n      },\n    },\n      icon: {\n      get: function () {\n        return this.layer.icon;\n      },\n      set: function (newValue) {\n        this.layer.icon = newValue;\n        this.getIcon(newValue).then(result=>{\n          this.layer.svgIcon = result\n        })\n      },\n    },\n    title: {\n      get: function () {\n        return this.layer.title;\n      },\n      set: function (newValue) {\n        this.layer.title = newValue;\n      },\n    },\n    width: {\n      get: function () {\n        return this.layer.width;\n      },\n      set: function (newValue) {\n        this.layer.width = newValue;\n      },\n    },\n    opacity: {\n      get: function () {\n        return this.layer.opacity;\n      },\n      set: function (newValue) {\n        this.layer.opacity = newValue;\n      },\n    },\n    stroke: {\n      get: function () {\n        if (!this.layer.stroke) {\n          return \"\";\n        }\n        return this.layer.stroke.join(\",\");\n      },\n      set: function (newValue) {\n        this.layer.stroke = newValue.split(\",\").map((x) => parseInt(x.trim()));\n      },\n    },\n    color: {\n      get: function () {\n        let colorObj = {\n          r: this.layer.color[0],\n          g: this.layer.color[1],\n          b: this.layer.color[2],\n          a: 1,\n        };\n        return colorObj;\n      },\n      set: function (newValue) {\n        this.layer.color = [newValue.r, newValue.g, newValue.b];\n      },\n    },\n  },\n  mounted: function () {\n  },\n  beforeMount() {\n    if (!(\"opacity\" in this.layer)) {\n      this.layer.opacity = 1;\n    }\n    if (!(\"grayscale\" in this.layer)) {\n      this.layer.grayscale = 0;\n    }\n  },\n  watch: {\n  },\n  methods: {\n\n    async getIcon() {\n      let svgUrl = `./icons/${this.icon}.svg`;\n      let response = await fetch(svgUrl);\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      let svgIcon = await response.text();\n      const regexpSize = /(<path .*?\\/>)/;\n      const match = svgIcon.match(regexpSize);\n      let pathEl = match[1];\n      let pathElBg = pathEl.replace(\n        \"<path\",\n        '<path stroke=\"#ffffffCC\" stroke-width=\"2px\"'\n      );\n      svgIcon = svgIcon.replace(regexpSize, `${pathElBg}$&`);\n      svgIcon = svgIcon.replace(\n        'viewBox=\"0 0 15 15\"',\n        'viewBox=\"-2 -2 19 19\"'\n      );\n      return svgIcon.replace(/\\n/g, \"\");\n    },\n    setSourceGeomType(){\n      let geomType\n      if (this.sourceType === \"object\"){\n        geomType = this.geoJson.features[0].geometry.type;\n      }else if (this.sourceType === \"url\"){\n        geomType = this.geoJson.features[0].geometry.type;\n      }\n      let newGeomType =  geomType.replace(\"Multi\", \"\");\n      this.geomType = newGeomType\n    }\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n\n#app {\n  margin: 40px;\n}\n.draggable-flex {\n  display: inherit;\n  flex-direction: inherit;\n}\n\n.v-expansion-panel {\n  width: 50vw;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeatureLayerListItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeatureLayerListItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FeatureLayerListItem.vue?vue&type=template&id=e398498e&scoped=true&\"\nimport script from \"./FeatureLayerListItem.vue?vue&type=script&lang=js&\"\nexport * from \"./FeatureLayerListItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FeatureLayerListItem.vue?vue&type=style&index=0&id=e398498e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e398498e\",\n  null\n  \n)\n\nexport default component.exports","<template>\n      <v-expansion-panel >\n    <v-expansion-panel-header>\n      {{ layer.title }} \n    </v-expansion-panel-header>\n    <v-expansion-panel-content>\n      \n              <service-layer-list-item\n                            v-if=\"layer.layerType === 'serviceLayer'\"\n                            :layer=\"layer\"\n                        ></service-layer-list-item>\n        <feature-layer-list-item\n                v-if=\"layer.layerType === 'featureLayer'\"\n            :layer=\"layer\">\n        </feature-layer-list-item>\n         <v-card-actions >\n        <v-btn    \n   @click=\"deleteLayer()\" title=\"Delete Layer\"><v-icon>\n            mdi-delete\n          </v-icon></v-btn>\n</v-card-actions>\n    </v-expansion-panel-content>\n    </v-expansion-panel>\n</template>\n\n<script>\nimport ServiceLayerListItem from \"./ServiceLayerListItem.vue\";\nimport FeatureLayerListItem from \"./FeatureLayerListItem.vue\";\n// import { Fragment } from 'vue-fragment'\n\nexport default {\n  components: {\n    // Fragment,\n    ServiceLayerListItem,\n    FeatureLayerListItem,\n  },\n  name: \"LayerListItem\",\n  props: {\n    layer: Object,\n  },\n  // TODO: replace with vuex\n  computed:{\n  },\n  mounted: function () {\n\n  },\n  beforeMount() {\n  },\n  methods: {\n    deleteLayer(){\n      this.$emit('deleteLayer', this.layer)\n    }\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n    .expansion-panel-wrapper{\n        border-bottom: solid 1px rgb(218, 218, 218);\n    }\n    .v-expansion-panel {\n  width: 50vw;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayerListItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayerListItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LayerListItem.vue?vue&type=template&id=06ffa468&scoped=true&\"\nimport script from \"./LayerListItem.vue?vue&type=script&lang=js&\"\nexport * from \"./LayerListItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LayerListItem.vue?vue&type=style&index=0&id=06ffa468&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"06ffa468\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{ref:\"map-root\",attrs:{\"id\":\"map\"}}),_c('h1',{attrs:{\"id\":\"mapTitle\"}},[_vm._v(_vm._s(_vm.config.title))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import WKT from 'ol/format/WKT'\nimport { Control } from 'ol/control'\nimport { default as VectorSource } from 'ol/source/Vector';\nimport { default as VectorLayer } from 'ol/layer/Vector';\nimport { Fill, Stroke, Style } from 'ol/style';\nexport { LocatieServerControl as default };\n// DO NOT REMOVE FOLLOWING COMMENT USED FOR EXTRACTING CODE WITHOUT IMPORTS\n// CODEBODY //\nconst LocatieServerControlCSS = `\nbutton{\n    border: solid 1px #cfd6e6;\n    border-radius: 0 3px 3px 0;\n    border-left: 0px;\n    width: 3em;\n}\n.parentControl{\n    background-color: white;\n    height: 36px;\n}\ninput{\n    outline: none;\n}\ninput[type=text]{\n    border: solid 1px #cfd6e6;\n    border-radius: 3px;\n    width: 21em;\n    padding-left: 0.5em;\n}\n\nselect{\n    border: solid 1px #cfd6e6;\n    border-radius: 3px;\n    width: 10em;\n    padding-left: 0.5em;    \n}\n\ninput[type=checkbox] {\n    transform: scale(1.1);\n}\n\ninput:focus{\n    border: solid 2px #cfd6e6 !important;\n}\n\n#locationServerControl{\n    display: flex;\n    position: absolute;\n    bottom: 2em;\n    right: 2em;\n}\n\n@media only screen and (max-width: 1024px) {\n  #locationServerControl{\n    bottom: 3em;\n    left: 0.5em;\n  }\n}\n`\nconst LocatieServerControlHTML =\n    `<div id=\"locationServerControl\" class=\"parentControl\">\n    <input autoComplete=\"off\" id=\"lsInput\" class=\"control\" type=\"text\" placeholder=\"zoek in locatieserver\" title=\"Zoek in PDOK Locatieserver\" list=\"locatie-auto-complete\">\n    <datalist id=\"locatie-auto-complete\"></datalist>\n</div>`\n\nclass LocatieServerControl extends HTMLElement {\n    static url = 'https://geodata.nationaalgeoregister.nl/locatieserver/v3'\n    static layerId = 'c2ab2649-c4c2-4ec0-bcb0-ddf9a7eb25bc'\n    static css = LocatieServerControlCSS\n    static html = LocatieServerControlHTML\n    static name = 'locatieserver-control'\n    map = {}\n    shadow = {}\n    constructor () {\n        super()\n        const _style = document.createElement('style')\n        const _template = document.createElement('template')\n        _style.innerHTML = LocatieServerControl.css\n        _template.innerHTML = LocatieServerControl.html\n        this.shadow = this.attachShadow({ mode: 'open' })\n        this.shadow.appendChild(_style)\n        this.shadow.appendChild(_template.content.cloneNode(true))\n        // note that event handles cannot be moved to seperate class method, otherwise it will not work\n        this.shadow.getElementById('lsInput').addEventListener('input', (event) => {\n            if (event.inputType === 'insertReplacementText' || event.inputType === undefined) {\n                const options = this.shadow.getElementById('locatie-auto-complete').querySelectorAll('option')\n                let id = ''\n                for (let option of options) {\n                    if (option.value === event.target.value) {\n                        id = option.id\n                    }\n                }\n                fetch(`${LocatieServerControl.url}/lookup?id=${id}&fl=id,geometrie_ll`)\n                    .then((response) => {\n                        return response.json()\n                    })\n                    .then((data) => {\n                        const wktLoc = data.response.docs[0].geometrie_ll\n                        const format = new WKT()\n                        const feature = format.readFeature(wktLoc, {\n                            dataProjection: 'EPSG:4326',\n                            featureProjection: 'EPSG:3857'\n                        })\n                        const ext = feature.getGeometry().getExtent()\n                        this.dispatchEvent(new CustomEvent('location-selected', { bubbles: true, composed: true, detail: { extent: ext, feature: feature } }))\n                        this.shadow.getElementById('locatie-auto-complete').innerHTML = ''\n                        this.shadow.getElementById('lsInput').blur()\n                    })\n            } else if (event.inputType.startsWith('deleteContent')) {\n                if (event.target.value === \"\") {\n                    this.dispatchEvent(new CustomEvent('location-cleared', { bubbles: true, composed: true, detail: {} }))\n                }\n            }\n        })\n        // note that event handles cannot be moved to seperate class method, otherwise it will not work\n        this.shadow.getElementById('lsInput').addEventListener('keyup', (event) => {\n            if (this.query === event.target.value) {\n                return\n            }\n            this.query = event.target.value\n            fetch(`${LocatieServerControl.url}/suggest?q=${this.query}`)\n                .then((response) => {\n                    return response.json()\n                })\n                .then((data) => {\n                    if (data.response.docs.length > 0) {\n                        let options = data.response.docs.map(x => `<option value=\"${x.weergavenaam}\" id=\"${x.id}\">`)\n                        let optionsHtml = options.join('')\n                        this.shadow.getElementById('locatie-auto-complete').innerHTML = optionsHtml\n                    }\n                })\n        })\n    }\n    set map (val) {\n        this.map = val;\n    }\n    static polygonStyle (config) {\n        let colorString = `rgb(${config.color[0]},${config.color[1]},${config.color[2]})`;\n        let fillColor = `rgba(${config.color[0]},${config.color[1]},${config.color[2]},0.2)`;\n        if (!(\"width\" in config)) {\n            config.width = 2;\n        }\n        return {\n            stroke: new Stroke({\n                ...{\n                    color: colorString,\n                    width: config.width,\n                },\n            }),\n            fill: new Fill({\n                color: fillColor,\n            }),\n        };\n    }\n\n    connectedCallback () {\n        this.shadow.addEventListener('keydown', (event) => {\n            event.stopPropagation()\n        })\n    }\n\n    locationClearedHandler () {\n        let existingLsLayer = this.map.getLayers().getArray().find(x => {\n            return 'values_' in x && x.values_.id === LocatieServerControl.layerId\n        })\n        if (existingLsLayer) {\n            this.map.removeLayer(existingLsLayer)\n        }\n    }\n\n    locationSelectedHandler (event) {\n        let style = LocatieServerControl.polygonStyle({ color: [255, 255, 0], stroke: \"solid\", width: 4 })\n        let ftLayer = new VectorLayer({\n            id: LocatieServerControl.layerId,\n            declutter: true,\n            source: new VectorSource({\n                features: [event.detail.feature]\n            }),\n            style: new Style(style),\n            opacity: 0.4,\n            zIndex: 9999\n        })\n        this.locationClearedHandler()\n        this.map.addLayer(ftLayer)\n        this.map.getView().fit(event.detail.extent, { maxZoom: 18, padding: [30, 30, 30, 30] })\n    }\n    static createLsControl () {\n        return document.createElement(LocatieServerControl.name)\n    }\n    enableLsControl (lsControl) {\n        let myControl = new Control({ element: lsControl })\n        this.map.addControl(myControl)\n        lsControl.addEventListener('location-selected', this.locationSelectedHandler, false)\n        lsControl.addEventListener('location-cleared', this.locationClearedHandler, false)\n    }\n}\n","import {\n    Fill,\n    Stroke,\n    Style,\n    Text,\n    Icon,\n} from \"ol/style\";\nimport { default as ImageLayer } from \"ol/layer/Image\";\nimport { default as ImageWMS } from \"ol/source/ImageWMS\";\nimport { default as TileLayer } from \"ol/layer/Tile\";\nimport { default as WMTS } from \"ol/source/WMTS\";\nimport { default as WMTSTileGrid } from \"ol/tilegrid/WMTS\";\nimport { get as getProjection } from \"ol/proj\";\nimport { getTopLeft, getWidth } from \"ol/extent\";\nimport GeoJSON from \"ol/format/GeoJSON\";\nimport { default as VectorSource } from \"ol/source/Vector\";\nimport { default as VectorLayer } from \"ol/layer/Vector\";\n\nexport { MapGenerator as default };\n// DO NOT REMOVE FOLLOWING COMMENT USED FOR EXTRACTING CODE WITHOUT IMPORTS\n// CODEBODY //\nconst DEFAULT_STROKE_WIDTH = 2\nconst DEFAULT_ICON_SCALE = 1.5\nconst DEFAULT_SCALE_FACTOR = 0.3\nconst DEFAULT_DASHES = {\n    \"dashed\": {\n        lineDash: [4],\n    },\n    \"dotted\": {\n        lineDash: [1, 4, 1, 4],\n    },\n    \"dash-dotted\": {\n        lineDash: [9, 3, 3, 3],\n    },\n    \"solid\": {}\n}\n\nclass MapGenerator {\n    config = {}\n    map = {}\n    constructor (config, map) {\n        this.config = config\n        this.map = map\n    }\n\n    static pointStyle (layerConfig) {\n        // replace 2nd occurence in SVG - first path occurence is for white bg halo - https://stackoverflow.com/a/44568739\n        // TOOD: maybe move to generator code\n        let scale = DEFAULT_ICON_SCALE;\n        if (\"iconSize\" in layerConfig) {\n            scale = layerConfig.iconSize;\n        }\n        let i = 0;\n        let icon = layerConfig.svgIcon.replace(/<path/g, (match) =>\n            ++i === 2 ? `<path fill=\"#${layerConfig.hexColor}\"` : match\n        );\n        const src = \"data:image/svg+xml;utf8,\" + escape(icon);\n        return {\n            image: new Icon({\n                opacity: 1,\n                src: src,\n                scale: 1 + scale * DEFAULT_SCALE_FACTOR,\n            }),\n        };\n    }\n\n    static lineStyle (layerConfig) {\n        let colorString = `rgb(${layerConfig.color[0]},${layerConfig.color[1]},${layerConfig.color[2]})`;\n        let dash = MapGenerator.getDash(layerConfig);\n        if (!(\"width\" in layerConfig)) {\n            layerConfig.width = DEFAULT_STROKE_WIDTH;\n        }\n        return {\n            stroke: new Stroke({\n                ...{\n                    color: colorString,\n                    width: layerConfig.width,\n                },\n                ...dash,\n            }),\n        };\n    }\n\n    static polygonStyle (layerConfig) {\n        let colorString = `rgb(${layerConfig.color[0]},${layerConfig.color[1]},${layerConfig.color[2]})`;\n        let fillColor = `rgba(${layerConfig.color[0]},${layerConfig.color[1]},${layerConfig.color[2]},0.2)`;\n        if (!(\"width\" in layerConfig)) {\n            layerConfig.width = DEFAULT_STROKE_WIDTH;\n        }\n        let dash = MapGenerator.getDash(layerConfig);\n        return {\n            stroke: new Stroke({\n                ...{\n                    color: colorString,\n                    width: layerConfig.width,\n                },\n                ...dash,\n            }),\n            fill: new Fill({\n                color: fillColor,\n            }),\n        };\n    }\n\n    static getDash (layerConfig) {\n        let dash;\n        if (!Array.isArray(layerConfig.stroke)) {\n            dash =\n                layerConfig.stroke in DEFAULT_DASHES\n                    ? DEFAULT_DASHES[layerConfig.stroke]\n                    : DEFAULT_DASHES[\"solid\"];\n        } else {\n            dash = {\n                lineDash: layerConfig.stroke,\n            };\n        }\n        return dash;\n    }\n\n    static getStyle (layerConfig) {\n        const styles = {\n            Point: MapGenerator.pointStyle,\n            LineString: MapGenerator.lineStyle,\n            Polygon: MapGenerator.polygonStyle,\n        };\n        let style = styles[layerConfig.geomType];\n        if (\n            typeof layerConfig.color === \"string\" &&\n            layerConfig.color.split(\",\").length > 2\n        ) {\n            layerConfig.color = layerConfig.color.split(\",\");\n        }\n        return style(layerConfig);\n    }\n\n    static getStyleFunction (layerConfig) {\n        return function (feature) {\n            let symbolStyle = MapGenerator.getStyle(layerConfig);\n            if (\"labels\" in layerConfig && layerConfig.labels) {\n                const placementDic = {\n                    Point: {\n                        offsetX: 7,\n                        offsetY: -7,\n                        textAlign: \"start\",\n                        overflow: true,\n                    },\n                    Polygon: {\n                        textAlign: \"center\",\n                        overflow: true,\n                    },\n                    LineString: {\n                        offsetX: 6,\n                        offsetY: -6,\n                        textAlign: \"start\",\n                    },\n                };\n                let textStyle = {\n                    text: new Text({\n                        ...{\n                            text: feature.get(layerConfig.labelProperty),\n                            scale: 1.3,\n                            fill: new Fill({\n                                color: \"#000000\",\n                            }),\n                            stroke: new Stroke({\n                                color: \"rgba(255, 255, 255, 0.8)\",\n                                width: 3,\n                            }),\n                        },\n                        ...placementDic[layerConfig.geomType],\n                    }),\n                };\n                return new Style({\n                    ...textStyle,\n                    ...symbolStyle,\n                });\n            }\n            return new Style(symbolStyle);\n        };\n    }\n\n    static isValidHttpUrl (string) {\n        let url;\n        try {\n            url = new URL(string);\n        } catch (_) {\n            return false;\n        }\n\n        return url.protocol === \"http:\" || url.protocol === \"https:\";\n    }\n\n    static async getResourceText (filename) {\n        let response = await fetch(filename);\n        if (!response.ok) {\n            throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        return await response.text();\n    }\n    // eslint-disable-next-line no-unused-vars\n    static async getFeatureData (layerConfig) {\n        if (layerConfig.layerType === \"featureLayer\") {\n            let ftCollection;\n            if (layerConfig.sourceType === \"url\"){\n                let ftCollectionString = await MapGenerator.getResourceText(layerConfig.geoJsonUrl);\n                ftCollection = JSON.parse(ftCollectionString);\n            }else if (layerConfig.sourceType === \"object\"){\n\n                ftCollection = layerConfig.geoJson;\n            }\n            return { ftCollection: ftCollection, config: layerConfig };\n        } else {\n            // optionally retrieve metadata from service\n            return { serviceUrl: layerConfig.serviceUrl, config: layerConfig };\n        }\n    }\n\n    static postRender (e) {\n        let grayscale = e.target.get(\"grayscale\");\n        e.context.globalCompositeOperation = \"color\";\n        if (e.context.globalCompositeOperation === \"color\") {\n            // operation is supported by browser\n            e.context.fillStyle = \"rgba(255,255,255,\" + grayscale + \")\";\n            e.context.fillRect(\n                0,\n                0,\n                e.context.canvas.width,\n                e.context.canvas.height\n            );\n        }\n        e.context.globalCompositeOperation = \"source-over\";\n    }\n\n    updateMapState() {\n        const view = this.map.getView();\n        const center = view.getCenter();\n        const x = parseFloat(center[0].toString());\n        const y = parseFloat(center[1].toString());\n        const z = parseInt(view.getZoom().toString());\n        const newValue = {\n          location: {\n            x: x,\n            y: y,\n            z: z,\n          },\n        };\n        Object.assign(this.config, newValue);\n    }\n\n    generateMap () {\n        let map = this.map\n        let config = this.config\n\n        const projection = getProjection(\"EPSG:3857\");\n        const projectionExtent = projection.getExtent();\n        const size = getWidth(projectionExtent) / 256;\n        const resolutions = new Array(19);\n        const matrixIds = new Array(19);\n        for (let z = 0; z < 19; ++z) {\n            // generate resolutions and matrixIds arrays for this WMTS\n            resolutions[z] = size / Math.pow(2, z);\n            matrixIds[z] = z;\n        }\n\n        const promises = [];\n\n        config.layersString = config.layers.map((x) => JSON.stringify(x));\n        config.layers.forEach(element => {\n            promises.push(\n                MapGenerator.getFeatureData(\n                    element\n                )\n            )\n        });\n\n\n        const layers = [];\n        // resolve promises with all to maintain layer order\n\n        Promise.all(promises).then((values) => {\n            let i = 0;\n            values.forEach((result) => {\n                if (result.config.layerType === \"featureLayer\") {\n                    i += 1;\n                    layers.push(\n                        new VectorLayer({\n                            zIndex: i,\n                            declutter: true,\n                            source: new VectorSource({\n                                features: new GeoJSON({\n                                    featureProjection: \"EPSG:3857\",\n                                }).readFeatures(result.ftCollection),\n                            }),\n                            style: MapGenerator.getStyleFunction(result.config),\n                            opacity: result.config.opacity,\n                        })\n                    );\n                } else if (result.config.layerType === \"serviceLayer\") {\n                    i += 1;\n                    if (result.config.serviceType === \"WMS\") {\n                        let params = {LAYERS: result.config.layerName}\n                        if (result.config.styleName){\n                            params = {\n                                ...params,\n                                ...{ STYLES: result.config.styleName}\n                            }\n                        }\n                        layers.push(\n                            new ImageLayer({\n                                zIndex: i,\n                                source: new ImageWMS({\n                                    url: result.config.serviceUrl,\n                                    params: params, // TODO: add style parameter\n                                    ratio: 1,\n                                }),\n                                ...(\"grayscale\" in result.config && {\n                                    grayscale: result.config.grayscale,\n                                }), // add property conditionally\n                                ...(\"opacity\" in result.config && {\n                                    opacity: result.config.opacity,\n                                }),\n                            })\n                        );\n                    } else if (result.config.serviceType === \"WMTS\") {\n                        i += 1;\n                        layers.push(\n                            new TileLayer({\n                                zIndex: i,\n                                source: new WMTS({\n                                    url: result.config.serviceUrl,\n                                    layer: result.config.layerName,\n                                    matrixSet: \"EPSG:3857\",\n                                    format: \"image/png\",\n                                    projection: projection,\n                                    tileGrid: new WMTSTileGrid({\n                                        origin: getTopLeft(projectionExtent),\n                                        resolutions: resolutions,\n                                        matrixIds: matrixIds,\n                                    }),\n                                    style: \"default\",\n                                    wrapX: true,\n                                }),\n                                ...(\"grayscale\" in result.config && {\n                                    grayscale: result.config.grayscale,\n                                }), // add property conditionally\n                                ...(\"opacity\" in result.config && {\n                                    opacity: result.config.opacity,\n                                }),\n                            })\n                        );\n                    }\n                }\n            });\n            map.setLayers(layers);\n            map.getLayers().forEach((lyr) => {\n                let grayscale = lyr.get(\"grayscale\");\n                if (grayscale > 0) {\n                    lyr.on(\"postrender\", MapGenerator.postRender);\n                }\n            });\n            map.on(\"moveend\", () => {\n                this.updateMapState();\n            });\n        });\n        let viewConfig = {\n            center: [564457.416, 6783258.6045],\n            zoom: 7,\n        };\n        if (config.location) {\n            viewConfig = {\n                center: [config.location.x, config.location.y],\n                zoom: config.location.z,\n            };\n        }\n\n        // eslint-disable-next-line no-unused-vars\n        // promise returning viewOptions is expected instead of View object https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html#setView\n        const viewOptions = new Promise((resolve) => {\n            resolve(viewConfig);\n        });\n        map.setView(viewOptions);\n        if (config.constrainBoundsEnabled) {\n            map.once(\"postrender\", function () {\n                setTimeout(() => {\n                    let mapExtent = map.getView().calculateExtent(map.getSize());\n\n                    viewConfig.extent = mapExtent;\n                    const viewOptions = new Promise((resolve) => {\n                        resolve(viewConfig);\n                    });\n                    map.setView(viewOptions);\n                }, 1);\n            });\n        }\n    }\n}\n","export default \"<!-- Generated with https://github.com/arbakker/ol-map-generator -->\\n<!DOCTYPE html>\\n<html lang=\\\"nl\\\">\\n    <head>\\n        <meta charset=\\\"UTF-8\\\">\\n        <title>{{ title }}</title>\\n        <script type=\\\"module\\\">\\n\\n{{{ jsCode }}}\\n\\n        </script>\\n    </head>\\n    <body>\\n        <div id=\\\"map\\\" class=\\\"map\\\"></div>\\n        {{#title}}\\n        <h1 id=\\\"mapTitle\\\">{{ title }}</h1>\\n        {{/title}}\\n        <link href=\\\"https://cdn.jsdelivr.net/npm/ol@6.9.0/ol.css\\\" rel=\\\"stylesheet\\\">\\n        <style>\\n            @import url(https://fonts.googleapis.com/css?family=Quattrocento+Sans:400,400italic,700);\\n            body {\\n                margin: unset;\\n                font-family: 'Quattrocento Sans', sans-serif;\\n                font-size: 16px;\\n            }\\n            .map {\\n                width: 100vw;\\n                height: 100vh;\\n                z-index: 0;\\n            }\\n            #mapTitle {\\n                position: absolute;\\n                left: 1em;\\n                bottom: 1em;\\n                background-color: #ffffffba;\\n                padding: 0.5em;\\n            }\\n        </style>\\n    </body>\\n</html>\";","export default \"import { default as ImageLayer } from 'https://esm.run/ol@6.9.0/src/layer/Image';\\nimport { default as ImageWMS } from 'https://esm.run/ol@6.9.0/src/source/ImageWMS';\\nimport { default as TileLayer } from 'https://esm.run/ol@6.9.0/src/layer/Tile';\\nimport { default as WMTS } from 'https://esm.run/ol@6.9.0/src/source/WMTS';\\nimport { default as WMTSTileGrid } from 'https://esm.run/ol@6.9.0/src/tilegrid/WMTS';\\nimport { get as getProjection } from 'https://esm.run/ol@6.9.0/src/proj';\\nimport { getTopLeft, getWidth } from 'https://esm.run/ol@6.9.0/src/extent';\\nimport { Circle as CircleStyle, Fill, Stroke, Style, Text, Icon } from 'https://esm.run/ol@6.9.0/src/style';\\nimport { default as Map } from 'https://esm.run/ol@6.9.0/src/Map';\\nimport GeoJSON from 'https://esm.run/ol@6.9.0/src/format/GeoJSON';\\nimport { default as VectorSource } from 'https://esm.run/ol@6.9.0/src/source/Vector';\\nimport { default as VectorLayer } from 'https://esm.run/ol@6.9.0/src/layer/Vector';\\nimport WKT from 'https://esm.run/ol@6.9.0/src/format/WKT';\\nimport { Control } from 'https://esm.run/ol@6.9.0/src/control';\\n\\n{{{ lsControlCode }}}\\n\\n{{{ mapGeneratorCode }}}\\n\\nlet config = {{{ config }}}\\nlet map\\nmap = new Map({\\n    target: \\\"map\\\"\\n})\\n\\nif (config.lsControlEnabled) {\\n    if (!customElements.get(LocatieServerControl.name)) {\\n        customElements.define(\\n            LocatieServerControl.name,\\n            LocatieServerControl\\n        );\\n    }\\n    let lsControl = LocatieServerControl.createLsControl();\\n    lsControl.map = map;\\n    lsControl.enableLsControl(lsControl);\\n}\\nlet mapGenerator = new MapGenerator(config, map)\\nmapGenerator.generateMap()\\n\";","export default \"import {\\n    Fill,\\n    Stroke,\\n    Style,\\n    Text,\\n    Icon,\\n} from \\\"ol/style\\\";\\nimport { default as ImageLayer } from \\\"ol/layer/Image\\\";\\nimport { default as ImageWMS } from \\\"ol/source/ImageWMS\\\";\\nimport { default as TileLayer } from \\\"ol/layer/Tile\\\";\\nimport { default as WMTS } from \\\"ol/source/WMTS\\\";\\nimport { default as WMTSTileGrid } from \\\"ol/tilegrid/WMTS\\\";\\nimport { get as getProjection } from \\\"ol/proj\\\";\\nimport { getTopLeft, getWidth } from \\\"ol/extent\\\";\\nimport GeoJSON from \\\"ol/format/GeoJSON\\\";\\nimport { default as VectorSource } from \\\"ol/source/Vector\\\";\\nimport { default as VectorLayer } from \\\"ol/layer/Vector\\\";\\n\\nexport { MapGenerator as default };\\n// DO NOT REMOVE FOLLOWING COMMENT USED FOR EXTRACTING CODE WITHOUT IMPORTS\\n// CODEBODY //\\nconst DEFAULT_STROKE_WIDTH = 2\\nconst DEFAULT_ICON_SCALE = 1.5\\nconst DEFAULT_SCALE_FACTOR = 0.3\\nconst DEFAULT_DASHES = {\\n    \\\"dashed\\\": {\\n        lineDash: [4],\\n    },\\n    \\\"dotted\\\": {\\n        lineDash: [1, 4, 1, 4],\\n    },\\n    \\\"dash-dotted\\\": {\\n        lineDash: [9, 3, 3, 3],\\n    },\\n    \\\"solid\\\": {}\\n}\\n\\nclass MapGenerator {\\n    config = {}\\n    map = {}\\n    constructor (config, map) {\\n        this.config = config\\n        this.map = map\\n    }\\n\\n    static pointStyle (layerConfig) {\\n        // replace 2nd occurence in SVG - first path occurence is for white bg halo - https://stackoverflow.com/a/44568739\\n        // TOOD: maybe move to generator code\\n        let scale = DEFAULT_ICON_SCALE;\\n        if (\\\"iconSize\\\" in layerConfig) {\\n            scale = layerConfig.iconSize;\\n        }\\n        let i = 0;\\n        let icon = layerConfig.svgIcon.replace(/<path/g, (match) =>\\n            ++i === 2 ? `<path fill=\\\"#${layerConfig.hexColor}\\\"` : match\\n        );\\n        const src = \\\"data:image/svg+xml;utf8,\\\" + escape(icon);\\n        return {\\n            image: new Icon({\\n                opacity: 1,\\n                src: src,\\n                scale: 1 + scale * DEFAULT_SCALE_FACTOR,\\n            }),\\n        };\\n    }\\n\\n    static lineStyle (layerConfig) {\\n        let colorString = `rgb(${layerConfig.color[0]},${layerConfig.color[1]},${layerConfig.color[2]})`;\\n        let dash = MapGenerator.getDash(layerConfig);\\n        if (!(\\\"width\\\" in layerConfig)) {\\n            layerConfig.width = DEFAULT_STROKE_WIDTH;\\n        }\\n        return {\\n            stroke: new Stroke({\\n                ...{\\n                    color: colorString,\\n                    width: layerConfig.width,\\n                },\\n                ...dash,\\n            }),\\n        };\\n    }\\n\\n    static polygonStyle (layerConfig) {\\n        let colorString = `rgb(${layerConfig.color[0]},${layerConfig.color[1]},${layerConfig.color[2]})`;\\n        let fillColor = `rgba(${layerConfig.color[0]},${layerConfig.color[1]},${layerConfig.color[2]},0.2)`;\\n        if (!(\\\"width\\\" in layerConfig)) {\\n            layerConfig.width = DEFAULT_STROKE_WIDTH;\\n        }\\n        let dash = MapGenerator.getDash(layerConfig);\\n        return {\\n            stroke: new Stroke({\\n                ...{\\n                    color: colorString,\\n                    width: layerConfig.width,\\n                },\\n                ...dash,\\n            }),\\n            fill: new Fill({\\n                color: fillColor,\\n            }),\\n        };\\n    }\\n\\n    static getDash (layerConfig) {\\n        let dash;\\n        if (!Array.isArray(layerConfig.stroke)) {\\n            dash =\\n                layerConfig.stroke in DEFAULT_DASHES\\n                    ? DEFAULT_DASHES[layerConfig.stroke]\\n                    : DEFAULT_DASHES[\\\"solid\\\"];\\n        } else {\\n            dash = {\\n                lineDash: layerConfig.stroke,\\n            };\\n        }\\n        return dash;\\n    }\\n\\n    static getStyle (layerConfig) {\\n        const styles = {\\n            Point: MapGenerator.pointStyle,\\n            LineString: MapGenerator.lineStyle,\\n            Polygon: MapGenerator.polygonStyle,\\n        };\\n        let style = styles[layerConfig.geomType];\\n        if (\\n            typeof layerConfig.color === \\\"string\\\" &&\\n            layerConfig.color.split(\\\",\\\").length > 2\\n        ) {\\n            layerConfig.color = layerConfig.color.split(\\\",\\\");\\n        }\\n        return style(layerConfig);\\n    }\\n\\n    static getStyleFunction (layerConfig) {\\n        return function (feature) {\\n            let symbolStyle = MapGenerator.getStyle(layerConfig);\\n            if (\\\"labels\\\" in layerConfig && layerConfig.labels) {\\n                const placementDic = {\\n                    Point: {\\n                        offsetX: 7,\\n                        offsetY: -7,\\n                        textAlign: \\\"start\\\",\\n                        overflow: true,\\n                    },\\n                    Polygon: {\\n                        textAlign: \\\"center\\\",\\n                        overflow: true,\\n                    },\\n                    LineString: {\\n                        offsetX: 6,\\n                        offsetY: -6,\\n                        textAlign: \\\"start\\\",\\n                    },\\n                };\\n                let textStyle = {\\n                    text: new Text({\\n                        ...{\\n                            text: feature.get(layerConfig.labelProperty),\\n                            scale: 1.3,\\n                            fill: new Fill({\\n                                color: \\\"#000000\\\",\\n                            }),\\n                            stroke: new Stroke({\\n                                color: \\\"rgba(255, 255, 255, 0.8)\\\",\\n                                width: 3,\\n                            }),\\n                        },\\n                        ...placementDic[layerConfig.geomType],\\n                    }),\\n                };\\n                return new Style({\\n                    ...textStyle,\\n                    ...symbolStyle,\\n                });\\n            }\\n            return new Style(symbolStyle);\\n        };\\n    }\\n\\n    static isValidHttpUrl (string) {\\n        let url;\\n        try {\\n            url = new URL(string);\\n        } catch (_) {\\n            return false;\\n        }\\n\\n        return url.protocol === \\\"http:\\\" || url.protocol === \\\"https:\\\";\\n    }\\n\\n    static async getResourceText (filename) {\\n        let response = await fetch(filename);\\n        if (!response.ok) {\\n            throw new Error(`HTTP error! status: ${response.status}`);\\n        }\\n        return await response.text();\\n    }\\n    // eslint-disable-next-line no-unused-vars\\n    static async getFeatureData (layerConfig) {\\n        if (layerConfig.layerType === \\\"featureLayer\\\") {\\n            let ftCollection;\\n            if (layerConfig.sourceType === \\\"url\\\"){\\n                let ftCollectionString = await MapGenerator.getResourceText(layerConfig.geoJsonUrl);\\n                ftCollection = JSON.parse(ftCollectionString);\\n            }else if (layerConfig.sourceType === \\\"object\\\"){\\n\\n                ftCollection = layerConfig.geoJson;\\n            }\\n            return { ftCollection: ftCollection, config: layerConfig };\\n        } else {\\n            // optionally retrieve metadata from service\\n            return { serviceUrl: layerConfig.serviceUrl, config: layerConfig };\\n        }\\n    }\\n\\n    static postRender (e) {\\n        let grayscale = e.target.get(\\\"grayscale\\\");\\n        e.context.globalCompositeOperation = \\\"color\\\";\\n        if (e.context.globalCompositeOperation === \\\"color\\\") {\\n            // operation is supported by browser\\n            e.context.fillStyle = \\\"rgba(255,255,255,\\\" + grayscale + \\\")\\\";\\n            e.context.fillRect(\\n                0,\\n                0,\\n                e.context.canvas.width,\\n                e.context.canvas.height\\n            );\\n        }\\n        e.context.globalCompositeOperation = \\\"source-over\\\";\\n    }\\n\\n    updateMapState() {\\n        const view = this.map.getView();\\n        const center = view.getCenter();\\n        const x = parseFloat(center[0].toString());\\n        const y = parseFloat(center[1].toString());\\n        const z = parseInt(view.getZoom().toString());\\n        const newValue = {\\n          location: {\\n            x: x,\\n            y: y,\\n            z: z,\\n          },\\n        };\\n        Object.assign(this.config, newValue);\\n    }\\n\\n    generateMap () {\\n        let map = this.map\\n        let config = this.config\\n\\n        const projection = getProjection(\\\"EPSG:3857\\\");\\n        const projectionExtent = projection.getExtent();\\n        const size = getWidth(projectionExtent) / 256;\\n        const resolutions = new Array(19);\\n        const matrixIds = new Array(19);\\n        for (let z = 0; z < 19; ++z) {\\n            // generate resolutions and matrixIds arrays for this WMTS\\n            resolutions[z] = size / Math.pow(2, z);\\n            matrixIds[z] = z;\\n        }\\n\\n        const promises = [];\\n\\n        config.layersString = config.layers.map((x) => JSON.stringify(x));\\n        config.layers.forEach(element => {\\n            promises.push(\\n                MapGenerator.getFeatureData(\\n                    element\\n                )\\n            )\\n        });\\n\\n\\n        const layers = [];\\n        // resolve promises with all to maintain layer order\\n\\n        Promise.all(promises).then((values) => {\\n            let i = 0;\\n            values.forEach((result) => {\\n                if (result.config.layerType === \\\"featureLayer\\\") {\\n                    i += 1;\\n                    layers.push(\\n                        new VectorLayer({\\n                            zIndex: i,\\n                            declutter: true,\\n                            source: new VectorSource({\\n                                features: new GeoJSON({\\n                                    featureProjection: \\\"EPSG:3857\\\",\\n                                }).readFeatures(result.ftCollection),\\n                            }),\\n                            style: MapGenerator.getStyleFunction(result.config),\\n                            opacity: result.config.opacity,\\n                        })\\n                    );\\n                } else if (result.config.layerType === \\\"serviceLayer\\\") {\\n                    i += 1;\\n                    if (result.config.serviceType === \\\"WMS\\\") {\\n                        let params = {LAYERS: result.config.layerName}\\n                        if (result.config.styleName){\\n                            params = {\\n                                ...params,\\n                                ...{ STYLES: result.config.styleName}\\n                            }\\n                        }\\n                        layers.push(\\n                            new ImageLayer({\\n                                zIndex: i,\\n                                source: new ImageWMS({\\n                                    url: result.config.serviceUrl,\\n                                    params: params, // TODO: add style parameter\\n                                    ratio: 1,\\n                                }),\\n                                ...(\\\"grayscale\\\" in result.config && {\\n                                    grayscale: result.config.grayscale,\\n                                }), // add property conditionally\\n                                ...(\\\"opacity\\\" in result.config && {\\n                                    opacity: result.config.opacity,\\n                                }),\\n                            })\\n                        );\\n                    } else if (result.config.serviceType === \\\"WMTS\\\") {\\n                        i += 1;\\n                        layers.push(\\n                            new TileLayer({\\n                                zIndex: i,\\n                                source: new WMTS({\\n                                    url: result.config.serviceUrl,\\n                                    layer: result.config.layerName,\\n                                    matrixSet: \\\"EPSG:3857\\\",\\n                                    format: \\\"image/png\\\",\\n                                    projection: projection,\\n                                    tileGrid: new WMTSTileGrid({\\n                                        origin: getTopLeft(projectionExtent),\\n                                        resolutions: resolutions,\\n                                        matrixIds: matrixIds,\\n                                    }),\\n                                    style: \\\"default\\\",\\n                                    wrapX: true,\\n                                }),\\n                                ...(\\\"grayscale\\\" in result.config && {\\n                                    grayscale: result.config.grayscale,\\n                                }), // add property conditionally\\n                                ...(\\\"opacity\\\" in result.config && {\\n                                    opacity: result.config.opacity,\\n                                }),\\n                            })\\n                        );\\n                    }\\n                }\\n            });\\n            map.setLayers(layers);\\n            map.getLayers().forEach((lyr) => {\\n                let grayscale = lyr.get(\\\"grayscale\\\");\\n                if (grayscale > 0) {\\n                    lyr.on(\\\"postrender\\\", MapGenerator.postRender);\\n                }\\n            });\\n            map.on(\\\"moveend\\\", () => {\\n                this.updateMapState();\\n            });\\n        });\\n        let viewConfig = {\\n            center: [564457.416, 6783258.6045],\\n            zoom: 7,\\n        };\\n        if (config.location) {\\n            viewConfig = {\\n                center: [config.location.x, config.location.y],\\n                zoom: config.location.z,\\n            };\\n        }\\n\\n        // eslint-disable-next-line no-unused-vars\\n        // promise returning viewOptions is expected instead of View object https://openlayers.org/en/latest/apidoc/module-ol_Map-Map.html#setView\\n        const viewOptions = new Promise((resolve) => {\\n            resolve(viewConfig);\\n        });\\n        map.setView(viewOptions);\\n        if (config.constrainBoundsEnabled) {\\n            map.once(\\\"postrender\\\", function () {\\n                setTimeout(() => {\\n                    let mapExtent = map.getView().calculateExtent(map.getSize());\\n\\n                    viewConfig.extent = mapExtent;\\n                    const viewOptions = new Promise((resolve) => {\\n                        resolve(viewConfig);\\n                    });\\n                    map.setView(viewOptions);\\n                }, 1);\\n            });\\n        }\\n    }\\n}\\n\";","export default \"import WKT from 'ol/format/WKT'\\nimport { Control } from 'ol/control'\\nimport { default as VectorSource } from 'ol/source/Vector';\\nimport { default as VectorLayer } from 'ol/layer/Vector';\\nimport { Fill, Stroke, Style } from 'ol/style';\\nexport { LocatieServerControl as default };\\n// DO NOT REMOVE FOLLOWING COMMENT USED FOR EXTRACTING CODE WITHOUT IMPORTS\\n// CODEBODY //\\nconst LocatieServerControlCSS = `\\nbutton{\\n    border: solid 1px #cfd6e6;\\n    border-radius: 0 3px 3px 0;\\n    border-left: 0px;\\n    width: 3em;\\n}\\n.parentControl{\\n    background-color: white;\\n    height: 36px;\\n}\\ninput{\\n    outline: none;\\n}\\ninput[type=text]{\\n    border: solid 1px #cfd6e6;\\n    border-radius: 3px;\\n    width: 21em;\\n    padding-left: 0.5em;\\n}\\n\\nselect{\\n    border: solid 1px #cfd6e6;\\n    border-radius: 3px;\\n    width: 10em;\\n    padding-left: 0.5em;    \\n}\\n\\ninput[type=checkbox] {\\n    transform: scale(1.1);\\n}\\n\\ninput:focus{\\n    border: solid 2px #cfd6e6 !important;\\n}\\n\\n#locationServerControl{\\n    display: flex;\\n    position: absolute;\\n    bottom: 2em;\\n    right: 2em;\\n}\\n\\n@media only screen and (max-width: 1024px) {\\n  #locationServerControl{\\n    bottom: 3em;\\n    left: 0.5em;\\n  }\\n}\\n`\\nconst LocatieServerControlHTML =\\n    `<div id=\\\"locationServerControl\\\" class=\\\"parentControl\\\">\\n    <input autoComplete=\\\"off\\\" id=\\\"lsInput\\\" class=\\\"control\\\" type=\\\"text\\\" placeholder=\\\"zoek in locatieserver\\\" title=\\\"Zoek in PDOK Locatieserver\\\" list=\\\"locatie-auto-complete\\\">\\n    <datalist id=\\\"locatie-auto-complete\\\"></datalist>\\n</div>`\\n\\nclass LocatieServerControl extends HTMLElement {\\n    static url = 'https://geodata.nationaalgeoregister.nl/locatieserver/v3'\\n    static layerId = 'c2ab2649-c4c2-4ec0-bcb0-ddf9a7eb25bc'\\n    static css = LocatieServerControlCSS\\n    static html = LocatieServerControlHTML\\n    static name = 'locatieserver-control'\\n    map = {}\\n    shadow = {}\\n    constructor () {\\n        super()\\n        const _style = document.createElement('style')\\n        const _template = document.createElement('template')\\n        _style.innerHTML = LocatieServerControl.css\\n        _template.innerHTML = LocatieServerControl.html\\n        this.shadow = this.attachShadow({ mode: 'open' })\\n        this.shadow.appendChild(_style)\\n        this.shadow.appendChild(_template.content.cloneNode(true))\\n        // note that event handles cannot be moved to seperate class method, otherwise it will not work\\n        this.shadow.getElementById('lsInput').addEventListener('input', (event) => {\\n            if (event.inputType === 'insertReplacementText' || event.inputType === undefined) {\\n                const options = this.shadow.getElementById('locatie-auto-complete').querySelectorAll('option')\\n                let id = ''\\n                for (let option of options) {\\n                    if (option.value === event.target.value) {\\n                        id = option.id\\n                    }\\n                }\\n                fetch(`${LocatieServerControl.url}/lookup?id=${id}&fl=id,geometrie_ll`)\\n                    .then((response) => {\\n                        return response.json()\\n                    })\\n                    .then((data) => {\\n                        const wktLoc = data.response.docs[0].geometrie_ll\\n                        const format = new WKT()\\n                        const feature = format.readFeature(wktLoc, {\\n                            dataProjection: 'EPSG:4326',\\n                            featureProjection: 'EPSG:3857'\\n                        })\\n                        const ext = feature.getGeometry().getExtent()\\n                        this.dispatchEvent(new CustomEvent('location-selected', { bubbles: true, composed: true, detail: { extent: ext, feature: feature } }))\\n                        this.shadow.getElementById('locatie-auto-complete').innerHTML = ''\\n                        this.shadow.getElementById('lsInput').blur()\\n                    })\\n            } else if (event.inputType.startsWith('deleteContent')) {\\n                if (event.target.value === \\\"\\\") {\\n                    this.dispatchEvent(new CustomEvent('location-cleared', { bubbles: true, composed: true, detail: {} }))\\n                }\\n            }\\n        })\\n        // note that event handles cannot be moved to seperate class method, otherwise it will not work\\n        this.shadow.getElementById('lsInput').addEventListener('keyup', (event) => {\\n            if (this.query === event.target.value) {\\n                return\\n            }\\n            this.query = event.target.value\\n            fetch(`${LocatieServerControl.url}/suggest?q=${this.query}`)\\n                .then((response) => {\\n                    return response.json()\\n                })\\n                .then((data) => {\\n                    if (data.response.docs.length > 0) {\\n                        let options = data.response.docs.map(x => `<option value=\\\"${x.weergavenaam}\\\" id=\\\"${x.id}\\\">`)\\n                        let optionsHtml = options.join('')\\n                        this.shadow.getElementById('locatie-auto-complete').innerHTML = optionsHtml\\n                    }\\n                })\\n        })\\n    }\\n    set map (val) {\\n        this.map = val;\\n    }\\n    static polygonStyle (config) {\\n        let colorString = `rgb(${config.color[0]},${config.color[1]},${config.color[2]})`;\\n        let fillColor = `rgba(${config.color[0]},${config.color[1]},${config.color[2]},0.2)`;\\n        if (!(\\\"width\\\" in config)) {\\n            config.width = 2;\\n        }\\n        return {\\n            stroke: new Stroke({\\n                ...{\\n                    color: colorString,\\n                    width: config.width,\\n                },\\n            }),\\n            fill: new Fill({\\n                color: fillColor,\\n            }),\\n        };\\n    }\\n\\n    connectedCallback () {\\n        this.shadow.addEventListener('keydown', (event) => {\\n            event.stopPropagation()\\n        })\\n    }\\n\\n    locationClearedHandler () {\\n        let existingLsLayer = this.map.getLayers().getArray().find(x => {\\n            return 'values_' in x && x.values_.id === LocatieServerControl.layerId\\n        })\\n        if (existingLsLayer) {\\n            this.map.removeLayer(existingLsLayer)\\n        }\\n    }\\n\\n    locationSelectedHandler (event) {\\n        let style = LocatieServerControl.polygonStyle({ color: [255, 255, 0], stroke: \\\"solid\\\", width: 4 })\\n        let ftLayer = new VectorLayer({\\n            id: LocatieServerControl.layerId,\\n            declutter: true,\\n            source: new VectorSource({\\n                features: [event.detail.feature]\\n            }),\\n            style: new Style(style),\\n            opacity: 0.4,\\n            zIndex: 9999\\n        })\\n        this.locationClearedHandler()\\n        this.map.addLayer(ftLayer)\\n        this.map.getView().fit(event.detail.extent, { maxZoom: 18, padding: [30, 30, 30, 30] })\\n    }\\n    static createLsControl () {\\n        return document.createElement(LocatieServerControl.name)\\n    }\\n    enableLsControl (lsControl) {\\n        let myControl = new Control({ element: lsControl })\\n        this.map.addControl(myControl)\\n        lsControl.addEventListener('location-selected', this.locationSelectedHandler, false)\\n        lsControl.addEventListener('location-cleared', this.locationClearedHandler, false)\\n    }\\n}\\n\";","<template>\n  <div>\n    <div id=\"map\" ref=\"map-root\"></div>\n    <h1 id=\"mapTitle\">{{ config.title }}</h1>\n  </div>\n</template>\n\n<script>\nimport Mustache from \"mustache\";\nimport LocatieServerControl from \"../lib/LocatieServerControl.js\";\n\nimport { default as Map } from \"ol/Map\";\n/* eslint-disable no-unused-vars */\nimport \"ol/ol.css\";\nimport MapGenerator from '../lib/MapGenerator'\n/* eslint-enable no-unused-vars */\n\nimport htmlTemplate from \"raw-loader!../assets/templates/index.html.template\";\nimport jsTemplate from \"raw-loader!../assets/templates/script.js.template\";\n\nimport mapGeneratorJS from \"!raw-loader!../lib/MapGenerator.js\";\nimport locatieServerControlJs from \"!raw-loader!../lib/LocatieServerControl.js\";\n\nexport default {\n  components: {},\n  name: \"MapControl\",\n  props: {\n    config: Object,\n  },\n  data: function () {\n    return {\n      jsTemplate: jsTemplate,\n      htmlTemplate: htmlTemplate,\n      map: {},\n    };\n  },\n  mounted: function () {\n    this.config.generator = true;\n    let promises = this.getPrepareGenPromises();      \n    Promise.all(promises).then(() => {  \n      this.updateMap();\n    })\n  },\n  // TODO: replace getters and setters with vuex\n  methods: {\n    download(filename, text) {\n      var element = document.createElement(\"a\");\n      element.setAttribute(\n        \"href\",\n        \"data:text/plain;charset=utf-8,\" + encodeURIComponent(text)\n      );\n      element.setAttribute(\"download\", filename);\n      element.style.display = \"none\";\n      document.body.appendChild(element);\n      element.click();\n      document.body.removeChild(element);\n    },\n    getPrepareGenPromises() {\n      let promises = [];\n      this.config.layers.forEach((x) => {\n        if (\"color\" in x && !(\"hexColor\" in x)) {\n          // TODO: use default color\n          x.hexColor = this.rgba2hex(x.color);\n        }\n        promises.push(\n          this.getFeatureDataAndIcon(x).catch((error) => {\n            console.log(error);\n          })\n        );\n      });\n      return promises;\n    },\n    generateCode() {\n      let promises = this.getPrepareGenPromises();\n      this.config.generator = false;\n      Promise.all(promises).then(() => {  \n        this.updateMapTemplate();\n        \n        let mapGeneratorCodeBody = mapGeneratorJS.split(`// CODEBODY //\\n`)[1]\n        let lsControlCodeBody = locatieServerControlJs.split(`// CODEBODY //\\n`)[1]\n      \n        let renderConfig = {\n          config: JSON.stringify(this.config),\n          lsControlCode:  lsControlCodeBody,\n          mapGeneratorCode:  mapGeneratorCodeBody\n        };\n        const jsCode = Mustache.render(jsTemplate, renderConfig);\n        const htmlCode = Mustache.render(htmlTemplate, {\n          jsCode: jsCode,\n          ...this.config,\n        });\n        this.download(\"index.html\", htmlCode);\n      });\n    },\n    updateMapTemplate() {\n      let config = this.config;\n      let map;\n      this.$refs[\"map-root\"].innerHTML = \"\";\n      map = new Map({\n        target: this.$refs[\"map-root\"],\n      });\n\n      if (config.lsControlEnabled) {\n        if (!customElements.get(LocatieServerControl.name)) {\n          customElements.define(\n            LocatieServerControl.name,\n            LocatieServerControl\n          );\n        }\n        let lsControl = LocatieServerControl.createLsControl();\n        lsControl.map = map;\n        lsControl.enableLsControl(lsControl);\n      }\n      let mapGenerator = new MapGenerator(config, map)\n      mapGenerator.generateMap()\n      \n    },\n    updateMap() {\n      this.config.generator = true;\n      let promises = this.getPrepareGenPromises();\n      Promise.all(promises).then(() => {\n        // this.config.layers.map((x) => console.log(x.title));\n        // template starts here\n        // replace config declaration in actual template\n        this.updateMapTemplate();\n      });\n    },\n    isValidHttpUrl(string) {\n      let url;\n      try {\n        url = new URL(string);\n      } catch (_) {\n        return false;\n      }\n      return url.protocol === \"http:\" || url.protocol === \"https:\";\n    },\n    rgba2hex(orig) {\n      let alpha = ((orig && orig[4]) || \"\").trim();\n      var hex =\n        (orig[0] | (1 << 8)).toString(16).slice(1) +\n        (orig[1] | (1 << 8)).toString(16).slice(1) +\n        (orig[2] | (1 << 8)).toString(16).slice(1);\n\n      if (alpha === \"\") {\n        alpha = 0o1;\n      }\n      // multiply before convert to HEX\n      alpha = ((alpha * 255) | (1 << 8)).toString(16).slice(1);\n      hex = hex + alpha;\n      return hex;\n    },\n    async getGeometryType(ftLayer) {\n      let ftCollection;\n      if (this.isValidHttpUrl(ftLayer.source)) {\n        let ftCollectionString = await this.getResourceText(ftLayer.source);\n        ftCollection = JSON.parse(ftCollectionString);\n      } else {\n        ftCollection = ftLayer.source;\n      }\n      let geomType = ftCollection.features[0].geometry.type;\n      geomType = geomType.replace(\"Multi\", \"\");\n      return geomType;\n    },\n    async getResourceText(filename) {\n      let response = await fetch(filename);\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      return await response.text();\n    },\n    // eslint-disable-next-line no-unused-vars\n    async getFeatureDataAndIcon(ftLayer) {\n      return\n    },\n    htmlEncode(s) {\n      var el = document.createElement(\"div\");\n      el.innerText = el.textContent = s;\n      s = el.innerHTML;\n      return s;\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.draggable-flex {\n  display: inherit;\n  flex-direction: column;\n}\n.v-expansion-panels {\n  width: 50vw;\n}\n\n#container {\n  display: flex;\n  flex-direction: row;\n  overflow: hidden;\n  height: 100vh;\n}\n\n.row {\n  flex: 1;\n  height: 100vh;\n  width: 50vw;\n  overflow-y: auto;\n  overflow-x: hidden;\n  margin: unset;\n}\n\n.form {\n  padding: 1em;\n}\n\nhtml,\nbody {\n  height: 100%;\n}\n\n#map {\n  height: 100vh;\n  width: 50vw;\n}\n\n#mapTitle {\n  position: absolute;\n  left: 1em;\n  bottom: 1em;\n  background-color: #ffffffba;\n  padding: 0.5em;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapMapControl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapMapControl.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapMapControl.vue?vue&type=template&id=166efc44&scoped=true&\"\nimport script from \"./MapMapControl.vue?vue&type=script&lang=js&\"\nexport * from \"./MapMapControl.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapMapControl.vue?vue&type=style&index=0&id=166efc44&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"166efc44\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <v-app>\n    <v-main>\n      <div id=\"container\">\n        <div class=\"row\">\n          <map-map-control\n            ref=\"mapMapControl\"\n            :config=\"config\"\n          ></map-map-control>\n        </div>\n\n        <div class=\"row form\">\n          <v-form>\n            <v-card>\n              <div class=\"text-overline mb-4\">MAP SETTINGS</div>\n              <v-card-text>\n                <v-text-field v-model=\"title\" label=\"Map Title\"></v-text-field>\n\n                <v-switch\n                  v-model=\"constrainBoundsEnabled\"\n                  label=\"Constrain Map Extent\"\n                  style=\"margin-top: 0em\"\n                ></v-switch>\n                <v-switch\n                  :disabled=\"constrainBoundsEnabled\"\n                  v-model=\"lsControlEnabled\"\n                  label=\"Locatieserver Control\"\n                  style=\"margin-top: 0em\"\n                ></v-switch>\n              </v-card-text>\n              <v-card-actions>\n                <v-btn v-on:click=\"updateMap()\">Update Map</v-btn>\n                <v-btn color=\"primary\" v-on:click=\"generateHTML()\"\n                  >Download HTML</v-btn\n                >\n              </v-card-actions>\n            </v-card>\n            <v-card>\n              <v-list-item-content style=\"padding-bottom: 0px\">\n                <div class=\"text-overline mb-4\">LAYERS</div>\n                <v-card-actions\n                  v-if=\"!(addingServiceLayer || addingFeatureLayer)\"\n                >\n                  <v-btn v-on:click=\"orderLayersEnabled = !orderLayersEnabled\"\n                    > <v-icon> mdi-reorder-horizontal</v-icon></v-btn\n                  >\n                  <v-speed-dial direction=\"right\">\n                    <template v-slot:activator>\n                      <v-btn color=\"blue darken-2\" dark>\n                        <v-icon> mdi-plus </v-icon>\n                      </v-btn>\n                    </template>\n                    <v-btn\n                      dark\n                      small\n                      v-on:click=\"\n                        newLayer = newServiceLayer();\n                        addingServiceLayer = true;\n                      \"\n                    >\n                      + Service Layer\n                    </v-btn>\n                    <v-btn\n                      v-on:click=\"\n                        newLayer = newFeatureLayer();\n                        addingFeatureLayer = true;\n                      \"\n                      dark\n                      small\n                    >\n                      + Feature Layer\n                    </v-btn>\n                  </v-speed-dial>\n                </v-card-actions>\n                <div\n                  v-if=\"addingServiceLayer || addingFeatureLayer\"\n                  style=\"width: 50vw; padding: 0 24px 16px\"\n                >\n                  <service-layer-list-item\n                    v-if=\"addingServiceLayer\"\n                    :layer=\"newLayer\"\n                  ></service-layer-list-item>\n                  <feature-layer-list-item\n                    v-if=\"addingFeatureLayer\"\n                    :layer=\"newLayer\"\n                  ></feature-layer-list-item>\n                  <v-card-actions>\n                    <v-btn color=\"primary\" v-on:click=\"addNewLayer()\">OK</v-btn>\n                    <v-btn\n                      v-on:click=\"\n                        addingServiceLayer\n                          ? (addingServiceLayer = !addingServiceLayer)\n                          : (addingFeatureLayer = !addingFeatureLayer)\n                      \"\n                      >Cancel</v-btn\n                    >\n                  </v-card-actions>\n                </div>\n                <v-expansion-panels\n                  accordion\n                  v-if=\"!(addingServiceLayer || addingFeatureLayer)\"\n                  :disabled=\"orderLayersEnabled\"\n                >\n                  <draggable v-model=\"layers\" :disabled=\"!orderLayersEnabled\">\n                    <transition-group>\n                      <layer-list-item\n                        v-on:deleteLayer=\"onDeleteLayer\"\n                        v-for=\"item in layers\"\n                        :key=\"item.id\"\n                        :layer=\"item\"\n                      ></layer-list-item>\n                    </transition-group>\n                  </draggable>\n                </v-expansion-panels>\n              </v-list-item-content>\n            </v-card>\n          </v-form>\n        </div>\n      </div>\n    </v-main>\n  </v-app>\n</template>\n\n<script>\nimport draggable from \"vuedraggable\";\n// import ServiceLayerListItem from \"./LayerListItem.vue\";\nimport LayerListItem from \"./LayerListItem.vue\";\nimport MapMapControl from \"./MapMapControl.vue\";\nimport ServiceLayerListItem from \"./ServiceLayerListItem.vue\";\nimport FeatureLayerListItem from \"./FeatureLayerListItem.vue\";\n\nimport htmlTemplate from \"raw-loader!../assets/templates/index.html.template\";\nimport jsTemplate from \"raw-loader!../assets/templates/script.js.template\";\n\nexport default {\n  components: {\n    draggable,\n    LayerListItem,\n    MapMapControl,\n    ServiceLayerListItem,\n    FeatureLayerListItem,\n  },\n  name: \"MapControl\",\n  props: {\n    config: Object,\n  },\n  data: function () {\n    return {\n      jsTemplate: jsTemplate,\n      htmlTemplate: htmlTemplate,\n      orderLayersEnabled: false,\n      addingServiceLayer: false,\n      addingFeatureLayer: false,\n      newLayer: {},\n    };\n  },\n  mounted: function () {\n    console.log(\"MapControl mounted\")\n\n  },\n  beforeMount: function () {},\n  // TODO: replace getters and setters with vuex\n  computed: {\n    title: {\n      get: function () {\n        return this.config.title;\n      },\n      set: function (newValue) {\n        this.config.title = newValue;\n      },\n    },\n    layers: {\n      get: function () {\n        return this.config.layers;\n      },\n      set: function (newValue) {\n        this.config.layers = newValue;\n      },\n    },\n    constrainBoundsEnabled: {\n      get: function () {\n        return this.config.constrainBoundsEnabled;\n      },\n      set: function (newValue) {\n        if (newValue) {\n          // constraining extent and enabling ls control leads to\n          // weird user interaction, what happens if queried object\n          // is outside extent?\n          this.config.lsControlEnabled = false;\n        }\n        this.config.constrainBoundsEnabled = newValue;\n      },\n    },\n    lsControlEnabled: {\n      get: function () {\n        return this.config.lsControlEnabled;\n      },\n      set: function (newValue) {\n        this.config.lsControlEnabled = newValue;\n      },\n    },\n  },\n  methods: {\n    onDeleteLayer(layer){\n      this.layers =  this.layers.filter(x => x!==layer);\n      this.updateMap();\n    },\n    uuid() {\n      var uuidValue = \"\",\n        k,\n        randomValue;\n      for (k = 0; k < 32; k++) {\n        randomValue = (Math.random() * 16) | 0;\n\n        if (k == 8 || k == 12 || k == 16 || k == 20) {\n          uuidValue += \"-\";\n        }\n        uuidValue += (\n          k == 12 ? 4 : k == 16 ? (randomValue & 3) | 8 : randomValue\n        ).toString(16);\n      }\n      return uuidValue;\n    },\n    newServiceLayer() {\n      return {\n        id: this.uuid(),\n        serviceType: \"\",\n        serviceUrl: \"\",\n        layerName: \"\",\n        opacity: 1,\n        grayscale: 0,\n        layerType: \"serviceLayer\",\n        title: \"\",\n      };\n    },\n    newFeatureLayer() {\n      return {\n        id: this.uuid(),\n        color: [],\n        title: \"\",\n        opacity: 1,\n        labels: false,\n        labelProperty: \"\",\n        icon: \"marker\",\n        iconSize: 2,\n        layerType: \"featureLayer\",\n        sourceType: \"object\",\n        geomType: \"\",\n        geoJson: {},\n        svgIcon: \"\"\n      };\n    },\n    addNewLayer() {\n      this.layers.push(this.newLayer);\n      this.addingServiceLayer\n        ? (this.addingServiceLayer = !this.addingServiceLayer)\n        : (this.addingFeatureLayer = !this.addingFeatureLayer);\n      this.updateMap();\n    },\n    updateMap() {\n      this.$refs.mapMapControl.updateMap();\n    },\n    generateHTML() {\n      this.$refs.mapMapControl.generateCode();\n    },\n    action(e) {\n      if (e === \"edit\") this.before = Object.assign([], this.layers);\n      if (e === \"undo\") this.layers = this.before;\n      this.editing = !this.editing;\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.draggable-flex {\n  display: inherit;\n  flex-direction: column;\n}\n.v-expansion-panels {\n  width: 50vw;\n}\n\n#container {\n  display: flex;\n  flex-direction: row;\n  overflow: hidden;\n  height: 100vh;\n}\n\n.row {\n  flex: 1;\n  height: 100vh;\n  width: 50vw;\n  overflow-y: auto;\n  overflow-x: hidden;\n  margin: unset;\n}\n\n.form {\n  padding: 1em;\n}\n\nhtml,\nbody {\n  height: 100%;\n}\n\n.v-btn {\n  float: left;\n  margin-right: 1em;\n}\n.v-card {\n  margin-bottom: 1em;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapControl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapControl.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MapControl.vue?vue&type=template&id=43da71c4&scoped=true&\"\nimport script from \"./MapControl.vue?vue&type=script&lang=js&\"\nexport * from \"./MapControl.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MapControl.vue?vue&type=style&index=0&id=43da71c4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"43da71c4\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <map-control :config=\"config\" />\n  </div>\n</template>\n\n<script>\nimport MapControl from \"./components/MapControl.vue\";\nimport initConfig from \"./init-config.json\";\n\n\nexport default {\n  name: \"App\",\n  data: function () {\n    return {\n      config: initConfig,\n    };\n  },\n  mounted: function () {},\n  components: {\n    MapControl: MapControl,\n  },\n};\n</script>\n\n<style>\n#app {\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\nhtml{\n  overflow:hidden;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=775559dd&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport vuetify from '@/plugins/vuetify' // path to vuetify export\nimport App from './App.vue'\nimport 'vuetify/dist/vuetify.min.css'\n\n\nnew Vue({\n  vuetify,\n  render: h => h(App),\n}).$mount('#app')\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ServiceLayerListItem.vue?vue&type=style&index=0&id=2a2025da&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapControl.vue?vue&type=style&index=0&id=43da71c4&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LayerListItem.vue?vue&type=style&index=0&id=06ffa468&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapMapControl.vue?vue&type=style&index=0&id=166efc44&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeatureLayerListItem.vue?vue&type=style&index=0&id=e398498e&scoped=true&lang=css&\""],"sourceRoot":""}